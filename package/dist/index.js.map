{"version":3,"sources":["../src/index.ts"],"sourcesContent":["#!/usr/bin/env node\n\nimport fs from \"fs\";\nimport path from \"path\";\nimport chalk from \"chalk\";\n\nfunction capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction pluralize(str: string) {\n  const irregulars: { [key: string]: string } = {\n    person: \"people\",\n    man: \"men\",\n    woman: \"women\",\n    child: \"children\",\n    tooth: \"teeth\",\n    foot: \"feet\",\n    mouse: \"mice\",\n    goose: \"geese\",\n  };\n\n  if (irregulars[str.toLowerCase()]) {\n    return irregulars[str.toLowerCase()];\n  }\n\n  const rules = [\n    { regex: /([^aeiou]ese)$/, replacement: \"$1\" },\n    { regex: /(ax|test)is$/, replacement: \"$1es\" },\n    { regex: /(alias|status)$/, replacement: \"$1es\" },\n    { regex: /(bu)s$/, replacement: \"$1ses\" },\n    { regex: /(buffal|tomat)o$/, replacement: \"$1oes\" },\n    { regex: /([ti])um$/, replacement: \"$1a\" },\n    { regex: /sis$/, replacement: \"ses\" },\n    { regex: /(?:([^f])fe|([lr])f)$/, replacement: \"$1$2ves\" },\n    { regex: /(hive)$/, replacement: \"$1s\" },\n    { regex: /([^aeiouy]|qu)y$/, replacement: \"$1ies\" },\n    { regex: /(x|ch|ss|sh)$/, replacement: \"$1es\" },\n    { regex: /(matr|vert|ind)ix|ex$/, replacement: \"$1ices\" },\n    { regex: /([m|l])ouse$/, replacement: \"$1ice\" },\n    { regex: /^(ox)$/, replacement: \"$1en\" },\n    { regex: /(quiz)$/, replacement: \"$1zes\" },\n    { regex: /s$/, replacement: \"s\" },\n    { regex: /$/, replacement: \"s\" },\n  ];\n\n  for (let i = 0; i < rules.length; i++) {\n    const rule = rules[i];\n    if (str.match(rule.regex)) {\n      return str.replace(rule.regex, rule.replacement);\n    }\n  }\n\n  return str + \"s\";\n}\n\ntype FieldType = \"string\" | \"number\" | \"boolean\" | \"date\";\n\ninterface ModelField {\n  name: string;\n  type: FieldType;\n  validations: string[];\n}\n\nfunction tokenizeSchema(schema: string): string[] {\n  const regex = /([a-zA-Z]+(?:\\.[a-zA-Z]+)*\\([^)]*\\))|([a-zA-Z]+)/g;\n  return schema.match(regex) || [];\n}\nclass NextGenerator {\n  private modelName = \"\";\n  private fields: ModelField[] = [];\n\n  parseArguments(): ModelField[] {\n    const args = process.argv.slice(2);\n    if (args.length < 2) {\n      throw new Error(\n        'Usage: npx next-generate <modelName> \"<field1:type1() field2:type2() ...>\"'\n      );\n    }\n\n    this.modelName = args[0];\n    const fieldsString = args[1];\n\n    const fieldDefinitions = fieldsString.split(/(?<=\\)) /);\n    const fields: ModelField[] = fieldDefinitions.map((def) => {\n      const [name, ...rest] = def.split(\":\");\n      const schema = rest.join(\":\");\n\n      if (!name || !schema) {\n        throw new Error(`Invalid field format: ${def}`);\n      }\n\n      const { type, validations } = this.parseSchema(schema);\n      return { name, type, validations };\n    });\n\n    return fields;\n  }\n\n  private parseSchema(schema: string): {\n    type: FieldType;\n    validations: string[];\n  } {\n    const tokens = this.tokenizeSchema(schema);\n    let type: FieldType;\n    let validations: string[] = [];\n\n    if (tokens[0].startsWith(\"z.\")) {\n      type = tokens[0].slice(2) as FieldType;\n      validations = tokens.slice(1);\n    } else {\n      type = tokens[0] as FieldType;\n      validations = tokens.slice(1);\n    }\n\n    this.validateZodMethods(type, validations);\n\n    return { type, validations };\n  }\n\n  private tokenizeSchema(schema: string): string[] {\n    const regex =\n      /z?\\.(string|number|boolean|date)(?:\\(\\))?(?:\\.([a-zA-Z]+(?:\\([^)]*\\))?))*/g;\n    const matches = schema.matchAll(regex);\n    const tokens: string[] = [];\n\n    for (const match of matches) {\n      tokens.push(match[1]); // type\n      if (match[2]) {\n        tokens.push(...match[2].split(\".\").filter(Boolean));\n      }\n    }\n\n    if (tokens.length === 0) {\n      throw new Error(`Invalid schema format: ${schema}`);\n    }\n\n    return tokens;\n  }\n\n  private validateZodMethods(type: FieldType, methods: string[]): void {\n    const validMethods: Record<FieldType, string[]> = {\n      string: [\n        \"min\",\n        \"max\",\n        \"length\",\n        \"email\",\n        \"url\",\n        \"uuid\",\n        \"cuid\",\n        \"regex\",\n        \"optional\",\n        \"nullable\",\n      ],\n      number: [\n        \"min\",\n        \"max\",\n        \"int\",\n        \"positive\",\n        \"negative\",\n        \"nonpositive\",\n        \"nonnegative\",\n        \"optional\",\n        \"nullable\",\n      ],\n      boolean: [\"optional\", \"nullable\"],\n      date: [\"min\", \"max\", \"optional\", \"nullable\"],\n    };\n\n    for (const method of methods) {\n      const methodName = method.split(\"(\")[0];\n      if (!validMethods[type].includes(methodName)) {\n        throw new Error(\n          `Invalid Zod method \"${methodName}\" for type \"${type}\"`\n        );\n      }\n    }\n  }\n\n  private generateFormComponent(\n    _modelName: string,\n    dir: string,\n    fields: ModelField[]\n  ) {\n    const modelName = capitalize(_modelName);\n\n    function getInputType(fieldType: ModelField[\"type\"]) {\n      switch (fieldType) {\n        case \"string\":\n          return \"text\";\n        case \"number\":\n          return \"number\";\n        case \"boolean\":\n          return \"checkbox\";\n        case \"date\":\n          return \"date\";\n        default:\n          return \"text\";\n      }\n    }\n\n    const filteredFields = fields.filter(\n      (field) =>\n        field.name !== \"id\" &&\n        field.name !== \"createdAt\" &&\n        field.name !== \"updatedAt\" &&\n        field.name !== \"deletedAt\" &&\n        !field.name.endsWith(\"Id\")\n    );\n\n    const formFields = filteredFields\n      .map(\n        (field) => `\n          <div>\n            <label htmlFor=\"${field.name}\">${capitalize(field.name)}</label>\n            <input\n              type=\"${getInputType(field.type)}\"\n              id=\"${field.name}\"\n              name=\"${field.name}\"\n              value={formData.${field.name} || ''}\n              onChange={handleInputChange}\n              required\n            />\n          </div>\n    `\n      )\n      .join(\"\\n\");\n\n    const content = `\"use client\";\n  import React, { useState } from \"react\";\n  import {\n    Create${modelName}InputSchema,\n    ${modelName}Schema,\n    Update${modelName}InputSchema,\n  } from \"./schemas\";\n  import { useRouter } from \"next/navigation\";\n  \n  interface ${modelName}FormProps {\n    action: (\n      data: Create${modelName}InputSchema | Update${modelName}InputSchema\n    ) => Promise<${modelName}Schema>;\n    defaultValues?: Update${modelName}InputSchema;\n  }\n  \n  export function ${modelName}Form({ action, defaultValues }: ${modelName}FormProps) {\n    const [formData, setFormData] = useState<Partial<Update${modelName}InputSchema>>(\n      defaultValues || {}\n    );\n    const router = useRouter();\n  \n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      const { name, value } = e.target;\n      setFormData((prev) => ({ ...prev, [name]: value }));\n    };\n  \n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n      e.preventDefault();\n      try {\n        await action(formData as Update${modelName}InputSchema);\n        // Handle successful submission (e.g., show a success message, redirect, etc.)\n        // For example:\n        router.push(\\`/${modelName.toLowerCase()}s\\`);\n      } catch (error) {\n        // Handle error (e.g., show error message)\n        console.error(\"Error submitting form:\", error);\n      }\n    };\n  \n    return (\n      <form onSubmit={handleSubmit}>\n        ${formFields}\n        <button type=\"submit\">Submit</button>\n      </form>\n    );\n  }\n  `;\n\n    fs.writeFileSync(\n      path.join(dir, `${modelName.toLowerCase()}-form.tsx`),\n      content\n    );\n  }\n\n  private generateListPage(_modelName: string, dir: string) {\n    const modelName = capitalize(_modelName);\n    const pluralModelName = pluralize(modelName);\n\n    const content = `import { list${pluralModelName} } from './actions';\n  import Link from 'next/link';\n  \n  export default async function ${pluralModelName}Page() {\n    const ${pluralModelName.toLowerCase()} = await list${pluralModelName}();\n  \n    return (\n      <div>\n        <h1>${pluralModelName}</h1>\n        <Link href=\"/${pluralModelName.toLowerCase()}/new\">Create New ${modelName}</Link>\n        <ul>\n          {${pluralModelName.toLowerCase()}.map((${_modelName.toLowerCase()}) => (\n            <li key={${_modelName.toLowerCase()}.id}>\n              <Link href={\\`/${pluralModelName.toLowerCase()}/\\${${_modelName.toLowerCase()}.id}\\`}>\n                <pre>\n                  {JSON.stringify(${_modelName.toLowerCase()}, null, 2)}\n                </pre>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n  `;\n\n    // Create the plural directory and write the list page there\n    const pluralDir = path.join(\n      path.dirname(dir),\n      pluralModelName.toLowerCase()\n    );\n    fs.mkdirSync(pluralDir, { recursive: true });\n    fs.writeFileSync(path.join(pluralDir, \"page.tsx\"), content);\n\n    // Ensure the list${pluralModelName} function is in actions.ts\n    const actionsPath = path.join(dir, \"actions.ts\");\n    let actionsContent = fs.readFileSync(actionsPath, \"utf8\");\n\n    if (!actionsContent.includes(`list${pluralModelName}`)) {\n      actionsContent += `\n  export async function list${pluralModelName}() {\n    // TODO: Implement fetching all ${pluralModelName.toLowerCase()}\n    console.log('Fetching all ${pluralModelName.toLowerCase()}');\n    return []; // Return an empty array for now\n  }\n  `;\n      fs.writeFileSync(actionsPath, actionsContent);\n    }\n  }\n\n  private generateNewPage(_modelName: string, dir: string) {\n    const modelName = capitalize(_modelName);\n    const content = `\n  import { ${modelName}Form } from '../${modelName.toLowerCase()}-form';\n  import { create${modelName} } from '../actions';\n  \n  export default function New${modelName}Page() {\n    return (\n      <div>\n        <h1>Create New ${modelName}</h1>\n        <${modelName}Form action={create${modelName}} />\n      </div>\n    );\n  }\n  `;\n\n    const newDir = path.join(dir, \"new\");\n    fs.mkdirSync(newDir, { recursive: true });\n    fs.writeFileSync(path.join(newDir, \"page.tsx\"), content);\n  }\n\n  private generateEditPage(_modelName: string, dir: string) {\n    const modelName = capitalize(_modelName);\n    const content = `\n  import { ${modelName}Form } from '../../${modelName.toLowerCase()}-form';\n  import { get${modelName}, update${modelName} } from '../../actions';\n  import { notFound } from 'next/navigation';\n  \n  export default async function Edit${modelName}Page({ params }: { params: { id: string } }) {\n    const ${modelName.toLowerCase()} = await get${modelName}(params.id);\n  \n    if (!${modelName.toLowerCase()}) {\n      return notFound()\n    }\n  \n    return (\n      <div>\n        <h1>Edit ${modelName}</h1>\n        <${modelName}Form action={update${modelName}} defaultValues={${modelName.toLowerCase()}} />\n      </div>\n    );\n  }\n  `;\n\n    const editDir = path.join(dir, \"[id]\", \"edit\");\n    fs.mkdirSync(editDir, { recursive: true });\n    fs.writeFileSync(path.join(editDir, \"page.tsx\"), content);\n  }\n\n  private generateViewPage(_modelName: string, dir: string) {\n    const modelName = capitalize(_modelName);\n    const content = `\n  import { get${modelName} } from '../actions';\n  import { notFound } from 'next/navigation';\n  \n  export default async function ${modelName}Page({ params }: { params: { id: string } }) {\n    const ${modelName.toLowerCase()} = await get${modelName}(params.id);\n  \n    if (!${modelName.toLowerCase()}) {\n      return notFound()\n    }\n  \n    return (\n      <div>\n        <h1>${modelName} Details</h1>\n        <pre>{JSON.stringify(${modelName.toLowerCase()}, null, 2)}</pre>\n      </div>\n    );\n  }\n  `;\n\n    const idDir = path.join(dir, \"[id]\");\n    fs.mkdirSync(idDir, { recursive: true });\n    fs.writeFileSync(path.join(idDir, \"page.tsx\"), content);\n  }\n\n  private generateSchemas(\n    _modelName: string,\n    dir: string,\n    fields: ModelField[]\n  ) {\n    const modelName = capitalize(_modelName);\n    const schemaFields = fields\n      .map((field, index) => {\n        const validations =\n          field.validations.length > 0 ? `.${field.validations.join(\".\")}` : \"\";\n        const fieldDefinition = `${field.name}: z.${field.type}()${validations}`;\n        return index === 0 ? fieldDefinition : `    ${fieldDefinition}`;\n      })\n      .join(\",\\n\");\n\n    const content = `\n  import { z } from 'zod';\n  \n  export const ${modelName.toLowerCase()}Schema = z.object({\n    ${schemaFields}\n  });\n  export type ${modelName}Schema = z.infer<typeof ${modelName.toLowerCase()}Schema>;\n  \n  export const create${modelName}InputSchema = ${modelName.toLowerCase()}Schema.omit({ id: true });\n  export type Create${modelName}InputSchema = z.infer<typeof create${modelName}InputSchema>;\n  \n  export const update${modelName}InputSchema = ${modelName.toLowerCase()}Schema;\n  export type Update${modelName}InputSchema = z.infer<typeof update${modelName}InputSchema>;\n  \n  export const delete${modelName}InputSchema = z.object({ id: z.string() });\n  export type Delete${modelName}InputSchema = z.infer<typeof delete${modelName}InputSchema>;\n  `;\n\n    fs.writeFileSync(path.join(dir, \"schemas.ts\"), content);\n  }\n\n  private generateActions(_modelName: string, dir: string) {\n    const modelName = capitalize(_modelName);\n    const content = `\"use server\";\n  \n  import {\n    Create${modelName}InputSchema,\n    Update${modelName}InputSchema,\n    Delete${modelName}InputSchema,\n    create${modelName}InputSchema,\n    update${modelName}InputSchema,\n    delete${modelName}InputSchema,\n    ${modelName}Schema,\n  } from \"./schemas\";\n  \n  export async function create${modelName}(\n    data: Create${modelName}InputSchema\n  ): Promise<${modelName}Schema> {\n    // TODO: Implement authentication and authorization logic\n    const validated = create${modelName}InputSchema.parse(data);\n    // TODO: Implement create logic\n    console.log(\"Creating ${modelName}:\", validated);\n  }\n  \n  export async function get${modelName}(id: string): Promise<${modelName}Schema> {\n    // TODO: Implement authentication and authorization logic  \n    // TODO: Implement get logic\n    console.log(\"Getting ${modelName} with id:\", id);\n  }\n  \n  export async function update${modelName}(\n    data: Update${modelName}InputSchema\n  ): Promise<${modelName}Schema | null> {\n    // TODO: Implement authentication and authorization logic\n    const validated = update${modelName}InputSchema.parse(data);\n    // TODO: Implement update logic\n    console.log(\"Updating ${modelName}:\", validated);\n  }\n  \n  export async function delete${modelName}(data: Delete${modelName}InputSchema): Promise<void> {\n    // TODO: Implement authentication and authorization logic  \n    const validated = delete${modelName}InputSchema.parse(data);\n    // TODO: Implement delete logic\n    console.log(\"Deleting ${modelName} with id:\", validated.id);\n  }\n  \n  export async function list${modelName}s(): Promise<${modelName}Schema[]> {\n    // TODO: Implement authentication and authorization logic  \n    // TODO: Implement list logic\n    console.log(\"Listing ${modelName}s\");\n    return []\n  }\n  `;\n\n    fs.writeFileSync(path.join(dir, \"actions.ts\"), content);\n  }\n\n  private generateModel() {\n    const pluralModelName = pluralize(this.modelName);\n    const modelDir = path.join(\n      process.cwd(),\n      \"app\",\n      pluralModelName.toLowerCase()\n    );\n    fs.mkdirSync(modelDir, { recursive: true });\n\n    this.generateActions(this.modelName, modelDir);\n    this.generateSchemas(this.modelName, modelDir, this.fields);\n    this.generateNewPage(this.modelName, modelDir);\n    this.generateViewPage(this.modelName, modelDir);\n    this.generateListPage(this.modelName, modelDir);\n    this.generateEditPage(this.modelName, modelDir);\n    this.generateFormComponent(this.modelName, modelDir, this.fields);\n\n    console.log(\n      chalk.green(\n        `✨ Model ${chalk.bold(\n          capitalize(this.modelName)\n        )} generated successfully at ${chalk.cyan(\n          `/app/${pluralize(this.modelName.toLowerCase())}`\n        )} 🎉`\n      )\n    );\n  }\n\n  public run() {\n    const args = process.argv.slice(2);\n    this.modelName = args[0];\n    this.fields = this.parseArguments();\n    this.generateModel();\n  }\n}\n\ntry {\n  console.log(chalk.blue(\"🚀 Initializing generator...\"));\n  const generator = new NextGenerator();\n  console.log(chalk.yellow(\"⚙️  Running generator...\"));\n  generator.run();\n  console.log(chalk.green(\"✅ Generator finished running\"));\n} catch (error) {\n  if (error instanceof Error) {\n    console.error(chalk.red(`❌ Error: ${error.message}`));\n  } else {\n    console.error(chalk.red(\"❌ An unknown error occurred\"));\n  }\n}\n\nconsole.log(chalk.magenta(\"👋 Script finished\"));\nprocess.exit(0);\n"],"mappings":"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","names":["fs","path","chalk","capitalize","str","pluralize","irregulars","rules","i","rule","NextGenerator","args","def","name","rest","schema","type","validations","tokens","regex","matches","match","methods","validMethods","method","methodName","_modelName","dir","fields","modelName","capitalize","getInputType","fieldType","formFields","field","content","fs","path","pluralModelName","pluralize","pluralDir","actionsPath","actionsContent","newDir","editDir","idDir","schemaFields","index","fieldDefinition","modelDir","chalk","generator","error"]}